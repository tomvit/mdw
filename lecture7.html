<!DOCTYPE html>
<!--
    Middleware and Web Services, CTU course slides
    (cc) 2010-2012 Tomas Vitvar, http://vitvar.com
    written for Humla, an open source HTML5 presentation environment
-->
<html>  
    <head>
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
        <meta name="course"   content="Middleware and Web Services"/>
		<meta name="lecture"  content="Lecture 7"/>
   		<meta name="keywords" content="SOA, service concepts, service technologies, SOAP, REST, WSDL"/>
           
        <link type="text/css" rel="stylesheet" href="css/meta.css"></link>   
        <link type="text/css" rel="stylesheet" href="css/ctu-fit.css"></link>   
        <link type="text/css" rel="stylesheet" href="humla/lib/core/humla.css"></link>   

        <script type="text/javascript" src="humla/lib/humla.js"></script>
        <title>Service Concepts and Technologies</title>
	</head>
	
	<body>
		<footer>
			<p><b>#META_LECTURE#: #TITLE#</b>,&nbsp;<span class="meta_semester"/>,&nbsp;
			<span class="meta_twitter"/></p>
			<p><b>&#8210; #SLIDE_NO# &#8210;</b></p>
		</footer>

    	<div class="slide intro">
			<hgroup>
				<h1><span class="meta_course"/></h1>
 				<h2>#META_LECTURE#: #TITLE#</h2>
			</hgroup>
			<div class="author">
				<p class="meta_author"/>
				<p><span class="meta_email"/> &bull; <span class="meta_twitter"/> &bull; 
				<span class="meta_web"/></p>
			</div>
			<center><div class="meta_logo"></div></center>
			<div class="org">
				<p class="meta_org"/>
				<p><span class="meta_orgfac"/> &bull; <span class="meta_field"/> 
				&bull; <span class="meta_orgweb"/></p>
			</div>
			<div class="etc">
        		<div class="text-info">
    				Modified: #LAST_MODIFIED#<br/>
					Humla v#HUMLA_VERSION#
				</div>
				<a href="http://creativecommons.org/licenses/by-sa/3.0/"><div class="license"></div></a>
				<div class="oppa"></div>
			</div>
		</div>

		<div class="slide">
			<hgroup>
				<h1>Service Oriented Architecture</h1>
			</hgroup>
			<center>
				<div class="h-drawing" id="1IOWIHKsD9qfPJ-eaXZc-hcL_4_gFO9AY5-ftDuZ1n3s" 
					style="margin-top: 20px; width: 600px"></div>
			</center>
            <ul class="x-small">
                <li>SOA supports two core business strategies</li>
                <ul>
                    <li>Growing top-line revenue</li>
                    <ul>
                        <li>Enterprise reacts quickly to requirements from the market</li>
                        <li>Business processes can be reconfigured rather than reimplemented</li>
                    </ul>
                    <li>Improving bottom-line profit</li>
                    <ul>
                        <li>Saving development costs by resuing existing services</li>
                    </ul>
                </ul>
                <li>Pre-integrated solutions</li>
                <ul>
                    <li>Out-of-the-box applications and integration solutions among them</li>
                </ul>
            </ul>
		</div>

        <div class="slide outline"></div>
        
        <section>
            <header>Integrating Applications</header>

            <div class="slide">
                <hgroup>
                    <h1>Integration and Interoperability</h1>
                </hgroup>
                <ul class="small spacing">
                    <li>Integration</li>
                    <ul>
                        <li>A process of connecting applications so that they can
                        exchange and share capabilities, that is &mdash; information and functionalities.</li>
                        <li>Includes methodological approaches as well as technologies</li>
                    </ul>
                    <li>Interoperability</li>
                    <ul>
                        <li>Ability of two or more applications to understand each other</li>
                        <li>Interoperability levels</li>
                        <ul>
                            <li>Data &ndash; syntax/structure and semantics</li>
                            <li>Functions/Processes &ndash; syntax and semantics</li>
                            <li>Technical aspects &ndash; protocols, network addresses, etc.</li>
                        </ul>
                    </ul>
                </ul>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>Integration Approaches Overview</h1>
                </hgroup>
                <div id="1i5jXogsSgaBZzCMpgtnXdTYaJ_rjbj_AeXEvkH9ljBI" class="h-drawing" style="height: 480px"></div>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>Data-oriented Integration</h1>
                </hgroup>
                <div class="h-drawing" style="height: 140px" 
                    id="103hhb19k8lNgnHJ4ul5kpR7cUb7L1tmVFnoXtq15M5A"></div>                        
                <ul class="x-small">
                    <li>Third-party database access</li>
                    <ul>
                        <li>Application D accesses a database of application B directly 
                        by using SQL and a knowledge of database B structure and constraints</li>
                        <li>In the past: monolithic and two-tier client/server architectures</li>
                        <li>Today: ETL (Extract, Transform, Load) technologies</li>
                    </ul>
                    <li>Problems</li>
                    <ul>
                        <li>App D must understand complex structures and constraints</li>
                        <ul>
                            <li>Data &ndash; very complex, includes structure and integrity constraints</li>
                            <li>Functions/processes &ndash; hidden in integrity constraints</li>
                            <li>Technical &ndash; access mechanisms can vary</li>
                        </ul>
                    </ul>
                </ul>
            </div>
            
            <div class="slide">
                <hgroup>
                    <h1>Service-oriented Integration</h1>
                </hgroup>
                <div class="h-drawing" style="height: 120px" id="1gqZkpqGJixejTLWZrZCE45iZo-2j3_rDgaRs3Qq4rN4"></div>
                <ul class="x-small">
                    <li>Integration at the application layer</li>
                    <ul>
                        <li>Application exposes services that other applications consume</li>
                        <li>Services hide implementation details but only define interfaces for integration</li>
                    </ul>
                    <li>Problems</li>
                    <ul>
                        <li>Can become unmanageable if not properly designed</li>
                        <li>Interoperability</li>
                        <ul>
                            <li>Data &ndash; limited to input and output messages only</li>
                            <li>Functions/processes &ndash; limited to semantics of services</li>
                            <li>Technical &ndash; access mechanisms can vary</li>
                        </ul>
                    </ul>
                </ul>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>One-to-One Service Integration</h1>
                </hgroup>
                <ul class="x-small">
                    <li>Direct integration of applications</li>
                    <ul>
                        <li>Multiple protocols problem, multiple vendor problem</li>
                        <li>Replication of integration functionalities such as interoperability solutions</li>
                    </ul>
                    <div class="h-drawing" style="height: 340px" id="123tDQFo3Zq0LEzzhquKp1xJX4YZ6YiWC0GDNGGK1UA0"
                        alt="One to One Spaghetti Integration"></div>
                </ul>                
            </div>

            <div class="slide">
                <hgroup>
                    <h1>Many-to-Many Service Integration</h1>
                </hgroup>
                <ul class="x-small">
                    <li>Enterprise Service Bus &ndash; central integration technology</li>
                    <ul>
                        <li>Realizes so called Service Oriented Architecture (SOA)</li>
                        <li>Contains various integration components such as process server, mediators, messaging middleware, 
                        identity management, etc.</li>
                    </ul>
                </ul>
                <div class="h-drawing" style="height: 360px" id="1-uHnuWoYea9KZgEBRkGmdpbKDT5THls9dn56XolZ1Lg"
                    alt="SOA Integration"></div>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>Integration and Types of Data</h1>
                </hgroup>
                <ul class="x-small">
                    <li>Transactional data &ndash; Web services</li>
                    <ul>
                        <li>Service-oriented integration</li>
                        <li>online, realtime communication between a client and a service</li>
                        <li>Usually small amount of data and small amount of service invocation in a process</li>
                    </ul>
                    <li>Bulk data &ndash; ETL</li>
                    <ul>
                        <li>Data-oriented integration</li>
                        <li>processing of large amount of data in batches</li>
                    </ul>
                    <li><b>ESB provides both Web service and ETL capabilities</b></li>
                </ul>
            </div>
        </section>
        
        <div class="slide outline"></div>
        
        <section>
            <header>Web Service Architecture</header>
            
			<div class="slide">
				<hgroup>
					<h1>Web Service Architecture</h1>
				</hgroup>
				<ul class="x-small">
                    <li>Web Service Architecture</li>
                    <ul>
                        <li>Defined by W3C in <span id="ws-arch" class="h-ref">Web Service Architecture Working Group Note</span></li>
                        <li>Defines <b>views</b></li>
                        <ul>
                            <li>message-oriented view (WSDL and SOAP)</li>
                            <li>resource-oriented view (REST and HTTP)</li>
                        </ul>
                        <li>Defines <b>architecture entities</b> and their <b>interactions</b></li>
                        <ul>
                            <li>Abstraction over underlying technology</li>
                            <li>Basis for service usage processes and description languages</li>
                        </ul>
                    </ul>
                    <li>Service Oriented Architecture</li>
                    <ul>
                        <li>Collection of tools, methods and technologies</li>
                        <li>There is some implicit understanding of SOA in the community such as</li>
                        <ul>
                            <li>SOA provides advances over Enterprise Application Integration</li>
                            <li>SOA is realized by using SOAP, WSDL, (and UDDI) technologies</li>
                            <li>SOA utilizes Enterprise Service Bus (ESB)</li>
                        </ul>
                        <li class="no-bullet">&rArr; ~&nbsp;a realization of Web Service Architecture message-oriented view</li>
                    </ul>
				</ul>
			</div>
            
			<div class="slide">
				<hgroup>
					<h1>Basic Entities</h1>
				</hgroup>
				<ul class="x-small spacing">
					<li>Agent</li>
					<ul>
						<li>software or hardware that sends/receives messages</li>
						<li>concrete implementation of a service</li>
					</ul>
					<li>Service</li>
					<ul>
						<li>abstract set of functionality and behavior</li>
						<li>two different agents may realize the same service</li>
					</ul>
					<li>Provider</li>
					<ul>
						<li>owner (person or organization) that provides an agent 
						  realizing a service</li>
						<li>also called a service provider</li>							  
					</ul>
					<li>Requester</li>
					<ul>
						<li>a person or organization that wishes to make use of a 
						provider's service</li>
						<li>uses a requester's agent to exchange messages with provider's agent</li>
					</ul>
				</ul>
			</div>
			
			<div class="slide">
				<hgroup>
					<h1>Interaction of Entities</h1>
				</hgroup>
				<div class="h-drawing" id="1ryEYL6i_VJrUeFDyTxE25DY_8j2ufgHeY2o4QcSbA5Y"
				  style="height: 420px"></div>
			</div>
            
			<div class="slide" id="service-definition">
				<hgroup>
					<h1>Service</h1>
				</hgroup>
				<ul class="xx-small">
                    <li>Difficult to agree on one definition</li>
					<li>Business definition</li>
					<ul>
						<li>A service realizes an effect that brings a business value
						to a service consumer</li>
                        <ul>
						    <li>for example, to pay for and deliver a book</li>
                        </ul>
					</ul>
					<li>Conceptual definition</li>
					<ul>
						<li>service characteristics</li>
                        <ul>
						    <li>encapsulation, reusability, loose coupling, contracting, 
						    abstraction, discoverability, composability</li>
                        </ul>
					</ul>
					<li>Logical definition</li>
					<ul>
						<li>service interface, description and implementation</li>
						<li>service usage process</li>
						<ul>
                            <li>service use tasks, service types</li>
                        </ul>
					</ul>
                    <li>Architectural definition</li>
                    <ul>
                        <li>business service (also application service)</li>
                        <ul>
                           <li>external, exposed functionality of an application</li>
                        </ul>
                        <li>infrastructure service</li>
                        <ul>
                            <li>internal/technical, supports processing of requests</li>
                        </ul>
                    </ul>
				</ul>
			</div>

			<div class="slide">
				<hgroup>
					<h1>Interface, Description and Implementation</h1>
				</hgroup>
                <div class="h-drawing" style="height: 240px" id="1i1A6rM7K34IVVLrJK_ETV7-shOTl9fuzPYjOfpUMrwY"></div>
                <ul class="x-small">
                    <li>Terminology clarification</li>
                    <ul>
                        <li>service ~ service interface + service implementation</li>
                        <li>WSDL service ~ service description in WSDL language</li>
                        <li>SOAP service ~ a service interface is possible to access through SOAP protocol; 
                        there is a WSDL description usually available too.</li>
                        <li>REST/RESTful service ~ service interface that conforms to REST architectural style and HTTP protocol</li>
                    </ul>
                </ul>
			</div>					

			<div class="slide" id="service-characteristics">
				<hgroup>
					<h1>Service Characteristics</h1>
				</hgroup>
				<div class="h-drawing" id="1z7ZDZ2Eh-B_4H3DszyzTmaAdvTdUCy6Ig2PCRynUgmg"
				  style="height: 420px; margin-top: 40px"></div>
			</div>					

        </section>

        <div class="slide outline"></div>

        <section>
            <header>Web Service Technologies</header>
            
            <section>
                <header>SOAP</header>
            
                <div class="slide">
                    <hgroup>
                        <h1>Web Service Architecture</h1>
                    </hgroup>
                    <ul class="small">
                        <li>WSDL, SOAP and UDDI</li>
                        <div class="h-drawing" style="height: 250px"
                            id="1G0jfLQn6lIVx_DaBDh89hV_K4hxK5QIyYtGF3uoOcok"></div>
                        <ul>
                            <li class="space-before">Realization of SOA</li>
                            <li>Message-Oriented view</li>
                            <ul>
                                <li>SOAP messaging (header, body)</li>
                                <li>types of messages &ndash; input, output, fault</li>
                            </ul>
                        </ul>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>SOAP Protocol</h1>
                    </hgroup>
                    <ul class="small">
                        <li>SOAP defines a messaging framework</li>
                        <div class="h-drawing" style="height: 180px; margin-left: -30px; margin-bottom: 20px" 
                            id="1yzA6Qa4NlvUBLrDtefeo3_Ud9eT6fl--qOwawlH9F_M"></div>
                        <ul>
                            <li>XML-based protocol</li>
                            <li>a layer over transport protocols</li>
                            <ul>
                                <li>binding to HTTP, SMTP, JMS, ...</li>
                            </ul>
                            <li>involves multiple nodes (message path)</li>
                            <ul>
                                <li>sender, receiver, intermediary</li>
                            </ul>
                        </ul>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>SOAP Message</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>Envelope</li>
                        <ul>
                            <li>A container of a message</li>
                        </ul>
                        <li>Header</li>
                        <ul>
                            <li>Metadata &ndash; describe a message, organized in header blocks</li>
                            <ul>
                                <li>routing information</li>
                                <li>security measures implemented in the message</li>
                                <li>reliability rules related to delivery of the message</li>
                                <li>context and transaction management</li>
                                <li>correlation information (request and response message relation)</li>
                            </ul>
                            <li>WS extensions (WS-*) utilize the message header</li> 
                        </ul>
                        <li>Body (payload)</li>
                        <ul>
                            <li>Actual contents of the message, XML formatted</li>
                            <li>Contains also faults for exception handling</li>
                        </ul>
                        <li>Attachment</li>
                        <ul>
                            <li>Data that cannot be serialized into XML such as binary data</li>
                        </ul>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Endpoint</h1>
                    </hgroup>
                    <ul class="small">
                        <li>SOAP service endpoint definition</li>
                        <div class="h-drawing" style="height: 300px" 
                            id="1PYfoC9B77CJ83zO22c2-k8yWf-wZ1ChZ8lZNkqcDl_I"></div>
                        <ul class="xx-small">
                            <li>Endpoint &ndash; a network address used for communication</li>
                            <li>Communication &ndash; request-response, SOAP messages over a communication (application) protocol</li>
                            <li>Synchronous communication &ndash; only service defines endpoint</li>
                            <li>Asynchronous communication &ndash; service and client define endpoints</li>
                        </ul>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Service Invocation Example (1)</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>Example service implementation</li>
                        <ul>
                            <li>A service that evaluates an expression</li>
                            <li>Uses SOAP over HTTP</li>
                            <ul>
                                <li>We can use standard HTTP tools to invoke the service</li>
                            </ul>
                        </ul>
                        <li>SOAP request message</li>
                            <ul class="no-bullet">
                                <li><code>evaluate-input.xml</code></li>
                            </ul>
                        <pre class="brush: xml">
                        &lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
                                &lt;soap:Body>
                                        &lt;ns1:evaluateRequest 
                                        xmlns:ns1="http://xmlns.oracle.com/mdw_examples/Evaluate/evaluate">
                                                &lt;ns1:x>12&lt;/ns1:x>
                                                &lt;ns1:y>18&lt;/ns1:y>
                                        &lt;/ns1:evaluateRequest>
                                &lt;/soap:Body>
                        &lt;/soap:Envelope>
                        </pre>
                        <li>Invoking the service using <code>curl</code></li>
                        <pre class="brush: 'bash'">
                            curl -s -X POST --header "Content-Type: text/xml;charset=UTF-8" \
                            --header "SOAPAction: \"evaluate\"" --data @evaluate-input.xml \
                            http://mimdw.fit.cvut.cz/soa-infra/services/mdw-examples/Evaluate/evaluate_client_ep
                        </pre>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Service Invocation Example (2)</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>Invocation result</li>
                        <pre class="brush: 'bash'">
                            * About to connect() to mimdw.fit.cvut.cz port 80 (#0)
                            *   Trying 147.32.233.55... connected
                            * Connected to sb.vitvar.com (147.32.233.55) port 80 (#0)
                            > POST /soa-infra/services/mdw-examples/Evaluate/evaluate_client_ep HTTP/1.1
                            > User-Agent: curl/7.19.7 (x86_64-redhat-linux-gnu) libcurl/7.19.7 NSS/3.14.0.0 zlib/1.2.3 libidn/1.18 libssh2/1.4.2
                            > Host: mimdw.fit.cvut.cz
                            > Accept: */*
                            > Content-Type: text/xml;charset=UTF-8
                            > SOAPAction: "evaluate"
                            > Content-Length: 302
                            > 
                            } [data not shown]
                            < HTTP/1.1 200 OK
                            < Date: Sun, 17 Nov 2013 11:24:59 GMT
                            < Server: Oracle-Application-Server-11g
                            < Content-Length: 569
                            < X-ORACLE-DMS-ECID: 004upqiWhdD0zkWVLybQ8A0005uX0004Y^
                            < SOAPAction: ""
                            < X-Powered-By: Servlet/2.5 JSP/2.1
                            < Content-Type: text/xml; charset=UTF-8
                            < Content-Language: en
                        </pre>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Service Invocation Example (3)</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>SOAP response message</li>
                        <pre class="brush: 'xml'">
                            &lt;?xml version="1.0"?>
                            &lt;env:Envelope xmlns:env="http://schemas.xmlsoap.org/soap/envelope/" 
                                xmlns:wsa="http://www.w3.org/2005/08/addressing">
                              &lt;env:Header>
                                &lt;wsa:MessageID>urn:E42018C04F7A11E3BFD5D1953058407C&lt;/wsa:MessageID>
                              &lt;/env:Header>
                              &lt;env:Body>
                                &lt;evaluateResponse 
                                    xmlns="http://xmlns.oracle.com/mdw_examples/Evaluate/evaluate">
                                  &lt;result>30&lt;/result>
                                &lt;/evaluateResponse>
                              &lt;/env:Body>
                            &lt;/env:Envelope>
                        </pre>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Client Implementation</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>WSDL &ndash; Web Service Description Language</li>
                        <ul>
                            <li>definitions for the client to know how to communicate with the service</li>
                            <ul>
                                <li>which operations it can use</li>
                                <li>data formats for input (request), output (response) and fault messages</li>
                                <li>how to serialize the data as payloads of a communication protocol (binding)</li>
                                <li>where the service is physically present on the network</li>
                            </ul>
                        </ul>
                        <li>Clients' environments</li>
                        <ul>
                            <li>Clients implemented in a language such as Java</li>
                            <ul>
                                <li>Tools to generate service API for the client, e.g. WSDL2Java</li>
                                <li>Can be written manually too, e.g. our example in bash</li>
                            </ul>
                            <li>Clients reside on the middleware, e.g. on an Enterprise Service Bus</li>
                            <ul>
                                <li>They provide added values in end-to-end communication, proxy services, SOAP intermediaries</li>
                            </ul>
                        </ul>
                    </ul>
                </div>

        </section>

        <div class="slide outline"></div>

        <section>
            <header>WSDL</header>

            <div class="slide">
                <hgroup>
                    <h1>Specifications</h1>
                </hgroup>
                <ul class="x-small">
                    <li>WSDL = Web Service Description Language</li>
                    <ul>
                        <li>A standard that allows to describe Web services explicitly (main aspects)</li>
                        <li>A contract between a requester and a provider</li>
                    </ul>
                    <li>Specifications</li>
                    <ul>
                        <li>WSDL 1.1 &ndash; still widely used</li>
                        <ul>
                            <li><span class="h-ref" id="wsdl11">Web Service Description Language 1.1</span></li>
                        </ul>
                        <li>WSDL 2.0 &ndash; An attempt to address several issues with WSDL 1.1</li>
                        <ul>
                            <li>SOAP vs. REST, naming, exrpessivity</li>
                            <li><span class="h-ref" id="wsdl20-primer">WSDL 2.0 Primer (part 0)</span></li>
                            <li><span class="h-ref" id="wsdl20">WSDL 2.0 Core Language (part 1)</span></li>
                        </ul>
                    </ul>            
                </ul>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>WSDL Overview and WSDL 1.1 Syntax</h1>
                </hgroup>
                <ul class="x-small">
                    <li>Components of WSDL</li>
                    <ul>
                        <li>Information model (<code>types</code>)</li>
                        <ul>
                            <li>Element types, message declarations (XML Schema)</li>
                        </ul>
                        <li>Set of operations (<code>portType</code>)</li>
                        <ul>
                            <li>A set of operations is "interface" in the WSDL terminology</li>
                            <li>operation name, input, output, fault</li>
                        </ul>
                        <li>Binding (<code>binding</code>)</li>
                        <ul>
                            <li>How messages are transfered over the network using a concrete transport protocol</li>
                            <li>Transport protocols: HTTP, SMTP, FTP, JMS, ...</li>
                        </ul>
                        <li>Endpoint (<code>service</code>)</li>
                        <ul>
                            <li>Where the service is physically present on the network</li>
                        </ul>
                    </ul>
                    <li>Types of WSDL documents</li>
                    <ul>
                        <li><b>Abstract WSDL</b> &ndash; only information model and a set of operations</li>
                        <li><b>Concrete WSDL</b> &ndash; everything, a concrete service available in the environment</li>
                    </ul>
                </ul>
            </div>                  

            <div class="slide">
                <hgroup>
                    <h1>WSDL Components and Dependencies</h1>
                </hgroup>
                <img src="img/wsdl-with-links.png" style="height: 490px; margin-top: 10px; margin-left: 200px"></img>
            </div>                  

        </section>

        <div class="slide outline"></div>
        
        <section>
            <header>WS-Addressing</header>
            
            <div class="slide">
                <hgroup>
                    <h1>Overview</h1>
                </hgroup>
                <ul class="x-small">
                    <li>WS-Addressing</li>
                    <ul>
                        <li><span class="h-ref" id="ws-addr">W3C Recommendation, May 2006</span></li>
                        <li>A transport-independent mechanisms for web services 
                            to communicate addressing information</li>
                        <li>WSDL describes WS-Addressing as a policy attached to a WSDL binding</li>
                        <pre class="brush: xml; highlight: [3,4]">
                            &lt;binding name="OrderProcessBinding" type="op:OrderProcess">
                                &lt;soap:binding transport="http://schemas.xmlsoap.org/soap/http"/>
                                &lt;PolicyReference xmlns:wsp="http://schemas.xmlsoap.org/ws/2004/09/policy"
                                    URI="#wsaddr_policy" wsdl:required="false"/>
                        </pre>
                    </ul>
                    <li>Two main purposes</li>
                    <ol>
                        <li>Asynchronous communication</li>
                        <ul>
                            <li>Client sends an endpoint where the server should send a response asynchronously</li>
                        </ul>
                        <li>Relating interactions to a conversation</li>
                        <ul>
                            <li>Client and service communicate conversation ID</li>
                        </ul>
                    </ul>
                </ul>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>Order Processing Example</h1>
                </hgroup>
                <ul class="x-small">
                    <li>Asynchronous communication via callback</a>, steps:</li>
                    <ul>
                        <li>Client submits an order request</li>
                        <li>Service starts processing of the order (CRM, OMS, back-office)</li>
                        <li>Client can retrieve the order status</li>
                        <li>Service responds asynchronously with an order response message</li>
                    </ul>
                </ul>
                <div class="h-drawing" id="1nPmejyynnsGNYC_dxe5poTKfiFJiqLgt7nPHD_GEJcc" style="height: 350px"></div>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>Interface Example (1)</h1>
                </hgroup>
                <ul class="x-small">
                    <li>Order process complex conversation</li>
                    <ol>
                        <li>The client invokes <code>processOrder</code>.</li>
                        <li>The service responses back <b>synchronously</b> with order status.</li>
                        <li>The client gets the status of order processing by invoking synchronous <code>getStatus</code> operation (this can be invoked serveral times).</li>
                        <li>The service responses back <b>asynchronously</b> by invoking <code>processOrderResponse</code> &ndash; callback on client's interface</li> 
                    </ol>
                    <li>Interface implemented by the order process service</li>
                    <ul>
                        <li><code>getStatus</code> operation must be executed in the same <b>conversation</b> as 
                            <code>processOrder</code> operation</li>
                    </ul>
                    <pre class="brush: xml; class-name: 'x-small'">
                        &lt;portType name="OrderProcess">
                            &lt;operation name="processOrder">
                                &lt;input message="op:OrderProcessRequestMessage"/>
                                &lt;output message="op:OrderStatusResponseMessage"/>
                            &lt;/operation>
                            &lt;operation name="getStatus">
                                &lt;input message="op:OrderStatusRequestMessage"/>
                                &lt;output message="op:OrderStatusResponseMessage"/>
                            &lt;operation>
                        &lt;portType>
                    </pre>
                    <li>Interface implemented by the client</li>
                    <pre class="brush: xml; class-name: 'x-small'">
                        &lt;portType name="OrderProcessCallback">
                            &lt;operation name="processOrderResponse">
                                &lt;input message="op:OrderProcessResponseMessage"/>
                                &lt;fault message="op:OrderProcessFaultMessage"/>
                            &lt;operation>
                        &lt;/portType>                            
                    </pre>

                </ul>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>Interface Example (2)</h1>
                </hgroup>
                <ul class="x-small">
                    <li>Interface implemented by the client</li>
                    <pre class="brush: xml; class-name: 'x-small'">
                        &lt;portType name="OrderProcessCallback">
                            &lt;operation name="processOrderResponse">
                                &lt;input message="op:OrderProcessResponseMessage"/>
                                &lt;fault message="op:OrderProcessFaultMessage"/>
                            &lt;operation>
                        &lt;/portType>                            
                    </pre>

                </ul>
            </div>


            <div class="slide">
                <hgroup>
                    <h1>ProcessOrder Request Message</h1>
                </hgroup>
                <ul class="xx-small">
                <li>Client sends process order request &ndash; <code>processOrder</code></li>
                <ul>
                    <li>it sends addressing information where the client listens for the callback</li>
                    <li>it sends conversation ID (message ID) to start the conversation on the server</li>
                    <pre class="brush: xml; highlight: [9,10,11,12,13]; class-name: 'tight'">
                    > POST /soa-infra/services/mdw-examples/ProcessOrder/orderprocess_client_ep HTTP/1.1
                    > Host: mimdw.fit.cvut.cz
                    > Content-Type: text/xml;charset=UTF-8
                    > SOAPAction: "processOrder"
                    > Content-Length: 810

                    &lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
                        xmlns:ord="http://mimdw.fit.cvut.cz/mdw-examples/cdm/order">
                         &lt;soap:Header xmlns:wsa='http://www.w3.org/2005/08/addressing'>
                            &ltwsa:ReplyTo>
                                &lt;wsa:Address>http://192.168.94.110:2233/path/to/service&lt;/wsa:Address>
                            &lt;/wsa:ReplyTo>
                            &lt;wsa:MessageID>urn:AXYYBA00531111E3BFACA780A7E5AF64&lt;/wsa:MessageID>
                         &lt;/soap:Header>
                         &lt;soap:Body>
                            &lt;ord:Order>
                                &lt;ord:CustomerId>1&lt;/ord:CustomerId>
                                &lt;ord:LineItems>
                                    &lt;ord:item>
                                        &lt;ord:label>Apple MacBook Pro&lt;/ord:label>
                                        &lt;ord:action>ADD&lt;/ord:action>
                                    &lt;/ord:item>
                                &lt;/ord:LineItems>
                            &lt;/ord:Order>
                        &lt;/soap:Body>
                    &lt;/soap:Envelope>
                    </pre>
                </ul>
            </div>

            <div class="slide">
                <hgroup>
                    <h1>GetStatus Request Message</h1>
                </hgroup>
                <ul class="xx-small">
                <li>Client sends get status request &ndash; <code>getStatus</code></li>
                <ul>
                    <li>after it invokes <code>processOrder</code> with conversation ID (message ID)</li>
                    <li>it uses the same conversation ID for get status request too</li>
                    <ul>
                        <li>the request will be procesessed by the running service instance</li>
                    </ul>
                    <pre class="brush: xml; highlight: [9]">
                    > POST /soa-infra/services/mdw-examples/ProcessOrder/orderprocess_client_ep HTTP/1.1
                    > Host: mimdw.fit.cvut.cz
                    > Content-Type: text/xml;charset=UTF-8
                    > SOAPAction: "getStatus"
                    > Content-Length: 472      

                    &lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
                        &lt;soap:Header xmlns:wsa="http://www.w3.org/2005/08/addressing">
                            &lt;wsa:RelatesTo>urn:AXYYBA00531111E3BFACA780A7E5AF64&lt;/wsa:RelatesTo>
                        &lt;/soap:Header>
                        &lt;soap:Body>
                            &lt;ns1:StatusRequest 
                                xmlns:ns1="http://mimdw.fit.cvut.cz/mdw_examples/ProcessOrder/OrderProcess">
                                &lt;ns1:process-id>18a9baec2d5ac0a2:64d155de:1425c4185f1:-7ff2&lt;/ns1:process-id>
                            &lt;/ns1:StatusRequest>
                        &lt;/soap:Body>
                    &lt;/soap:Envelope>                    
                    </pre>
                </ul>
            </div>

            
        </section>        

        <div class="slide outline"></div>

            <section>
                <header>REST</header>

                <div class="slide">
                    <hgroup>
                        <h1>REST</h1>
                    </hgroup>
                    <ul class="small spacing">
                        <li>REST</li>
                        <ul>
                            <li>Representational State Transfer</li>
                        </ul>
                        <li>Architecture Style</li>
                        <ul>
                            <li>Roy Fielding &ndash; co-author of HTTP</li>
                            <li>He coined REST in his <span class="h-ref" id="rest">PhD thesis</span>.</li>
                            <ul>
                                <li>The thesis abstracts from HTTP technical details</li>
                                <li>HTTP is one of the REST implementation &rarr; <b>RESTful</b></li>
                                <li>REST is a leading programming model for Web APIs</li>
                            </ul>
                        </ul>
                        <li>REST (RESTful) proper design</li>
                        <ul>
                            <li>people break principles often</li>
                            <li>See <span class="h-ref" id="rest-anti">REST Anti-Patterns</span> for some details.<br/>
                        </ul>
                        <li>REST and Web Service Architecture</li>
                        <ul>
                            <li>REST is a realization of WSA resource-oriented model</li>
                        </ul>
                    </ul>           
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>REST Core Principles</h1>
                    </hgroup>
                    <ul class="small">
                        <li>REST architectural style defines constraints</li>
                        <ul>
                            <li>if you follow them, they help you to achieve a good design, 
                            interoperability and scalability.</li>
                        </ul>
                        <li>Constraints</li>
                        <ul>
                            <li>Client/Server</li>
                            <li>Statelessness</li>
                            <li>Cacheability</li>
                            <li>Layered system</li>
                            <li>Uniform interface</li>
                        </ul>
                        <li>Guiding principles</li>                        
                        <ul>    
                            <li>Identification of resources</li>
                            <li>Representations of resources and self-descriptive messages</li>
                            <li>Hypermedia as the engine of application state (HATEOAS)</li> 
                        </ul>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Resource</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>A resource can be anything such as</li>
                        <ul>
                            <li>A real object: car, dog, Web page, printed document</li>
                            <li>An abstract thing such as address, name, etc. &rarr; RDF</li>
                        </ul>
                        <li>A resource in REST</li>
                        <ul>
                            <li>A resource corresponds to one or more entities of a data model</li>
                            <li>A representation of a resource can be conveyed in a message electronically (information resource)</li>
                            <li>A resource has an identifier (URI) and a representation (XML, JSON, ...) and a client can apply an access to it (use HTTP methods)</li>
                        </ul>
                    </ul>
                    <div class="h-drawing" style="height: 200px" 
                        id="1sSCJVFnKU0UgLek_FlFdQfKVeT9myKf-34IYyw5FQps"></div>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Resources over Entities</h1>
                    </hgroup>                
                    <ul class="x-small">
                        <li>Application's data model</li>
                        <ul>
                            <li>Entities and properties that the app uses for its data</li>
                        </ul>
                        <div class="h-drawing" style="height: 290px" id="1zT46lCNzfiaw9d5HfA6fzDZFAj2GQG8sRAg1QRWPPfQ"></div>
                        <li>URI identifies a resource within the app's data model</li>
                        <ul>
                            <li><code>path</code> &ndash; a "view" on the data model</li>
                            <ul>
                                <li>data model is a graph</li>
                                <li>URI identifies a resource using a path in a tree with some root</li>
                            </ul>
                        </ul>
                    </ul>
                </div>

                <div class="slide">
                    <hgroup>
                        <h1>Examples of Views</h1>
                    </hgroup>                
                    <ul class="x-small">
                        <li>View 1</li>
                        <ul>
                            <li>all customers: <code>/customers</code></li>
                            <li>a particular customer: <code>/customers/{customer-id}</code>
                            <li>All orders of a customer: <code>/customers/{customer-id}/orders</code>
                            <li>A particular order: <code>/customers/{customer-id}/orders/{order-id}</code>
                        </ul>
                        <li>View 2</li>
                        <ul>
                            <li>all orders: <code>/orders</code></li>
                            <li>All orders of a customer: <code>/orders/{customer-id}</code>
                            <li>A particular order: <code>/orders/{customer-id}/{order-id}</code>
                        </ul>
                        <li>Various views represented by <b>URL path</b></li>
                    </ul>
                </div>            

                <div class="slide">
                    <hgroup>
                        <h1>Uniform Interface</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>Finite set of operations</li>
                        <ul>
                            <li>They are not dependent on the domain semantics</li>
                            <li>They only define how to manipulate with resources</li>
                        </ul>
                        <li>RESTful service &ndash; HTTP methods</li>
                        <ul>
                            <li>GET &ndash; reads a resource (+ HEAD, OPTIONS)</li>
                            <li>PUT &ndash; updates or creates a resource (+ PATCH)</li>
                            <li>POST &ndash; creates a new resource</li>
                            <li>DELETE &ndash; deletes a resource</li>
                        </ul>
                        <li>HTTP methods' properties</li>
                        <ul>
                            <li>a method is <b>safe</b></li>
                            <ul>
                                <li>It does not change the application state (it does not modify the data)</li>
                                <li>GET, OPTIONS, HEAD</li>
                                <li>Results can be cached by intermediaries (e.g. proxy servers)</li>                            
                            </ul>
                            <li>a method is <b>idempotent</b></li>
                            <ul>
                                <li>Every method invocation will always have the same effect</li>
                                <li>GET, PUT, DELETE</li>
                            </ul>
                        </ul>
                    </ul>
                </div>          
                
                <div class="slide">
                    <hgroup>
                        <h1>Examples</h1>
                    </hgroup>
                    <ul class="xx-small">
                        <li>Operation <code>getCustomerOrder(customerId, OrderId)</code></li>
                        <ul>
                            <li>Retrieves a representation of the order resource that belongs to a particular customer</li>
                        </ul>
                        <pre class="brush: 'bash'; class-name: 'tight'">
                            > GET /customers/{cutomerId}/orders/{orderId}
                        </pre>
                        <li>Operation <code>openOrder(customerId)</code></li>
                        <ul>
                            <li>Creates a new order for a customer</li>
                        </ul>
                        <pre class="brush: 'bash'; class-name: 'tight'">
                            > POST /customers/{cutomerId}/orders
                            &lt; Location: /customers/{customerId}/orders/{orderId}

                            > GET /customers/{customerId}/orders/{orderId}
                        </pre>
                        <li>Operation <code>addLineItem(customerId, orderId)</code></li>
                        <ul>
                            <li>Adds a new item to the order</li>
                        </ul>
                        <pre class="brush: 'bash'; class-name: 'tight'">
                            > POST /customers/{customerId}/orders/{orderId}
                            &lt; Location: /customers/{customerId}/orders/{orderId}/items/{itemId}

                            > GET /customers/{customerId}/orders/{orderId}/items/{itemId}
                        </pre>
                        <li>Operation <code>closeOrder(customerId, orderId)</code></li>
                        <ul>
                            <li>Closes the order (i.e., changes a state of the order resource)</li>
                        </ul>
                        <pre class="brush: 'bash'; class-name: 'tight'">
                            > PUT /customers/{customerId}/orders/{orderId}
                            > &lt;status>CLOSED&lt;/status>
                        </pre>

                    </ul>
                </div>  

                <div class="slide">
                    <hgroup>
                        <h1>Examples &ndash; evaluate operation</h1>
                    </hgroup>
                    <ul class="xx-small">
                        <li>Example REST implementation of the SOAP service <a href="#7">evaluate</a></li> 
                        <li>Operation <code>evaluate(n1, n2)</code></li>
                        <ul>
                            <li>Evaluates expression such that the result is <code>n1+n2</code></li>
                        </ul>
                        <pre class="brush: 'bash'; class-name: 'tight'">
                            > POST /evaluate/additions/
                            > &lt;parameters>
                            >  &lt;n1>{n1}&lt;/n1>
                            >  &lt;n2>{n2}&lt;/n2>
                            > &lt;/parameters>
                            &lt; Location: /evaluations/additions/{n1}+{n2}

                            > GET /evaluations/additions/{n1}+{n2} 
                        </pre>
                    </ul>
                </div>  
            </section>      

            <div class="slide outline"></div>

            <section>
                <header>Comparision</header>

                <div class="slide">
                    <hgroup>
                        <h1>Service Description</h1>
                    </hgroup>
                    <ul class="x-small">
                        <li>Standards-driven</li>
                        <ul>
                            <li>Standards that define service description</li>
                            <li>They give a space for variability</li>
                            <ul>
                                <li>too much &ndash; big flexibility but increases complexity (~WSDL)</li>
                                <li>limited &ndash; enforce agreement and interoperability (~REST)<br/> 
                                (as long as parties correctly implement the standard)</li>
                            </ul>
                        </ul>
                        <li>Languages to describe service interfaces</li>
                        <ul>
                            <li>formal &ndash; machine processable</li>
                            <li>textual &ndash; natural text description</li>
                        </ul>
                        <li>Comparison of WSDL and REST models for service interfaces</li>
                        <table style="zoom: 1; width: 700px; margin-top: 15px; font-size: 13px">
                            <thead>
                                <tr><th>Model</th><th>Standards-driven</th><th>Languages</th></tr>
                            </thead>
                            <tbody>
                                <tr><td><b>WSDL</b></td>
                                  <td>XML-based WSDL, XML Schema for input/output/fault messages;
                                    big space for variations (operations, exchange patterns, protocols)</td>
                                  <td>WSDL+XML, textual description for rules of public processes</td>
                                </tr>
                                <tr><td><b>REST</b></td>
                                  <td>Web Architecture, HTTP, XML Schema, JSON; little space for variations
                                    (uniform interface, statelessness, etc.)</td>
                                  <td>HTML &ndash; mostly textual description, AtomPub, WADL</td>
                                </tr>
                            </tbody>
                        </table>
                    </ul>
                </div>              

                <div class="slide">
                    <hgroup>
                        <h1>SOAP vs. REST</h1>
                    </hgroup>
                    <ul class="xx-small">
                        <li style="margin-top: 15px; margin-bottom: -8px">SOAP uses input and output messages in operations</li>
                        <li>REST uses resources and defines access on them</li>
                        <li style="margin-top: 15px; margin-bottom: -8px">SOAP can use more protocols</li>
                        <li>REST uses HTTP</li>
                        <ul>
                            <li>Pratically, most of the SOAP implementations use SOAP over HTTP</li>
                        </ul>
                        <li style="margin-top: 15px; margin-bottom: -8px">Operations in SOAP are domain-specific</li>
                        <li>HTTP operations are independent on domain semantics</li>
                        <ul>
                            <li>REST operations' semantics is defined by HTTP method + resource semantics</li>
                        </ul>
                        <li style="margin-top: 15px; margin-bottom: -8px">SOAP uses XML and XML Schema</li>
                        <li>REST can use many representation formats</li>
                        <ul>
                            <li>For example, XML, JSON, YAML, etc.</li>
                        </ul>
                        <li style="margin-top: 15px; margin-bottom: -8px">SOAP is defined by WSDL</li>
                        <li>REST is described in text or HTML</li>
                        <li style="margin-top: 15px; margin-bottom: -8px">Client libraries can be generated from WSDL</li>
                        <li>REST vendor provides client libraries</li>
                    </ul>
                </div>
                        
                <div class="slide">
                    <hgroup>
                        <h1>SOAP vs. REST</h1>
                    </hgroup>
                    <ul class="xx-small">
                        <li style="margin-top: 15px; margin-bottom: -8px">SOAP clients must hard-code service's public process</li>
                        <li>REST clients can follow links in hypertext for application states</li>
                        <li style="margin-top: 15px; margin-bottom: -8px">SOAP services are used for inter/intra-enterprise integration</li>
                        <li>REST services are used for Web APIs for integration on the Web</li>  
                    </ul>
                </div>            
            </section>
        </section>
            
        
    </body>
</html>
        
        
